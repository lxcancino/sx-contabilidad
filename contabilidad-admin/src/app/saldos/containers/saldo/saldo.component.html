<mat-card *ngIf="saldo$ | async as saldo">
  <sx-search-title [title]="getTitle(saldo)"> </sx-search-title>
  <mat-divider></mat-divider>
  <div class="table-panel">
    <sx-saldos-table
      [saldos]="saldo.children"
      #grid
      (drillData)="onDrill($event)"
      (selectionChange)="onSelection($event)"
    >
      <button mat-menu-item (click)="reload(saldo)" class="actions">
        <mat-icon>refresh</mat-icon> Refresh
      </button>
    </sx-saldos-table>
  </div>
  <mat-card-actions>
    <button mat-button (click)="back()">
      <mat-icon>arrow_back</mat-icon> Regresar
    </button>
  </mat-card-actions>
</mat-card>

<mat-card>
  <div layout>
    <mat-card-title>Movimientos</mat-card-title>
    <span flex></span>
    <button
      mat-button
      mat-icon-button
      (click)="movimientosGrid.exportData()"
      matTooltip="Exportar a CSV"
    >
      <mat-icon color="primary">file_download</mat-icon>
    </button>
  </div>
  <ng-template
    tdLoading
    [tdLoadingUntil]="!(loading$ | async)"
    tdLoadingStrategy="overlay"
  >
  </ng-template>
  <div class="movimientos-panel">
    <sx-movimientos-table
      #movimientosGrid
      [partidas]="movimientos$ | async"
      (selectionChange)="onSelection($event)"
    ></sx-movimientos-table>
  </div>
</mat-card>
